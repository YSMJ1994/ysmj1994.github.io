{"version":3,"sources":["components/DocCard/style.module.scss","utils/index.ts","components/DocCard/index.tsx","components/Pagination/style.module.scss","components/Pagination/index.tsx","hooks/usePagination.tsx","pages/Home/style.module.scss","pages/Home/index.tsx"],"names":["module","exports","docCard","divider","header","headerLabel","headerDesc","headerDescLabel","headerDescValue","body","footer","footerContent","footerItemLabel","footerItemContent","tag","group","appendChildren","mini","formatTime","time","arguments","length","undefined","moment","format","withRouter","_ref","_ref$mini","doc","history","children","_doc$tag","tags","_doc$group","groups","createTime","modifyTime","_doc$title","title","_doc$review","review","_doc$content","content","createTimeStr","modifyTimeStr","react_default","a","createElement","className","cs","styles","Object","defineProperty","Link","hoverShowUnderline","onClick","push","concat","id","headerDescItem","dangerouslySetInnerHTML","__html","footerItem","map","key","paginationWrap","pageBtn","pageBtnDisabled","pagination","pageIconLeft","pageIconRight","paginationItem","current","paginationEscapeBox","paginationEscape","paginationArrow","left","right","Pagination","style","pageSize","total","onChange","_useState","useState","_useState2","slicedToArray","prefixPages","setPrefixPages","_useState3","_useState4","middlePages","setMiddlePages","_useState5","_useState6","suffixPages","setSuffixPages","_useState7","_useState8","leftArrowShow","setLeftArrowShow","_useState9","_useState10","rightArrowShow","setRightArrowShow","_useState11","_useState12","maxPage","setMaxPage","useEffect","totalPage","Math","ceil","list","i","slice","resolveClick","useCallback","page","SIcon","name","max","min","usePagination","DefaultPagination","setPage","pagingList","setPagingList","nextPage","home","Home","articles","useContext","DocCtx","_usePagination","_usePagination2","_Users_soberz_workspace_my_git_repo_soberz_website_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","window","scrollTo","top","react__WEBPACK_IMPORTED_MODULE_1___default","_components_DocCard__WEBPACK_IMPORTED_MODULE_4__"],"mappings":"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","file":"static/js/home.fdcee8c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"docCard\":\"style_docCard__FuGwh\",\"divider\":\"style_divider__3txKO\",\"header\":\"style_header__2uIyb\",\"headerLabel\":\"style_headerLabel__3i5KJ\",\"headerDesc\":\"style_headerDesc__V4oV5\",\"headerDescLabel\":\"style_headerDescLabel__dFGui\",\"headerDescValue\":\"style_headerDescValue__2W61Z\",\"body\":\"style_body__23SLF\",\"footer\":\"style_footer__31EKX\",\"footerContent\":\"style_footerContent__9WvSU\",\"footerItemLabel\":\"style_footerItemLabel__2O-J1\",\"footerItemContent\":\"style_footerItemContent__f2UoF\",\"tag\":\"style_tag__1ARGY\",\"group\":\"style_group__2RD3y\",\"appendChildren\":\"style_appendChildren__2HIQ1\",\"mini\":\"style_mini__ou9NY\"};","import moment, { Moment } from 'moment';\n\nexport function getType(target: any): string {\n\tconst typeofType = typeof target;\n\tif (typeofType === 'object') {\n\t\tif (target === null) {\n\t\t\treturn 'null';\n\t\t} else {\n\t\t\treturn Object.prototype.toString\n\t\t\t\t.call(target)\n\t\t\t\t.replace(/^\\[object\\s(.*)]$/, '$1')\n\t\t\t\t.toLowerCase();\n\t\t}\n\t} else {\n\t\treturn typeofType;\n\t}\n}\n\nexport type Time = string | number | Date | Moment | undefined;\nexport function formatTime(time: Time = +moment(), format = 'YYYY-MM-DD HH:mm:ss') {\n\treturn moment(time).format(format);\n}\n","import React, { FC } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport styles from './style.module.scss';\nimport { formatTime } from '@/utils';\nimport { MdDoc } from '@/ctx/DocCtx';\nimport Title from '@/components/Link';\nimport cs from 'classnames';\nimport { PropsWithChildren } from '~/node_modules/@types/react';\n\ninterface DocCardProps {\n\tdoc: MdDoc;\n\tmini?: boolean;\n}\n\ntype ResolveProps = PropsWithChildren<DocCardProps & RouteComponentProps<any>>;\n\nconst DocCard: FC<ResolveProps> = ({ mini = false, doc, history, children }) => {\n\tconst { tag: tags = [], group: groups = [], createTime, modifyTime, title = '', review = '', content = '' } = doc;\n\tconst createTimeStr = formatTime(createTime);\n\tconst modifyTimeStr = formatTime(modifyTime);\n\treturn (\n\t\t<div className={cs(styles.docCard, { [styles.mini]: mini })}>\n\t\t\t<div className={styles.header}>\n\t\t\t\t<Title\n\t\t\t\t\tclassName={styles.headerLabel}\n\t\t\t\t\thoverShowUnderline={mini}\n\t\t\t\t\tonClick={() => history.push(`/article/${doc.id}`)}\n\t\t\t\t>\n\t\t\t\t\t{title}\n\t\t\t\t</Title>\n\t\t\t\t<div className={styles.headerDesc}>\n\t\t\t\t\t<div className={styles.headerDescItem}>\n\t\t\t\t\t\t<span className={styles.headerDescLabel}>发表时间</span>\n\t\t\t\t\t\t<span className={styles.headerDescValue}>{createTimeStr}</span>\n\t\t\t\t\t\t<span className={styles.headerDescLabel}>修改时间</span>\n\t\t\t\t\t\t<span className={styles.headerDescValue}>{modifyTimeStr}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={styles.body} dangerouslySetInnerHTML={{ __html: mini ? review || content : content }} />\n\t\t\t<div className={styles.footer}>\n\t\t\t\t<div className={styles.divider} />\n\t\t\t\t<div className={styles.footerContent}>\n\t\t\t\t\t{!!tags.length && (\n\t\t\t\t\t\t<div className={styles.footerItem}>\n\t\t\t\t\t\t\t<span className={styles.footerItemLabel}>标签</span>\n\t\t\t\t\t\t\t<span className={styles.footerItemContent}>\n\t\t\t\t\t\t\t\t{tags.map(tag => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tkey={tag}\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.tag}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/tags/${tag}`)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{tag}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{!!groups.length && (\n\t\t\t\t\t\t<div className={styles.footerItem}>\n\t\t\t\t\t\t\t<span className={styles.footerItemLabel}>分类</span>\n\t\t\t\t\t\t\t<span className={styles.footerItemContent}>\n\t\t\t\t\t\t\t\t{groups.map(group => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tkey={group}\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.group}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/group/${group}`)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{group}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{children && <div className={styles.appendChildren}>{children}</div>}\n\t\t</div>\n\t);\n};\n\nexport default withRouter<ResolveProps>(DocCard);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrap\":\"style_paginationWrap__2dzVw\",\"pageBtn\":\"style_pageBtn__1PuoX\",\"pageBtnDisabled\":\"style_pageBtnDisabled__3BdMl\",\"pagination\":\"style_pagination__1wwlx\",\"pageIconLeft\":\"style_pageIconLeft__2FJAI\",\"pageIconRight\":\"style_pageIconRight__FHzSS\",\"paginationItem\":\"style_paginationItem__217lu\",\"current\":\"style_current__tRtY1\",\"paginationEscapeBox\":\"style_paginationEscapeBox__2Phjc\",\"paginationEscape\":\"style_paginationEscape__3JWuT\",\"paginationArrow\":\"style_paginationArrow__96ggP\",\"left\":\"style_left__BAmLN\",\"right\":\"style_right__37rFq\"};","import React, { useState, useEffect, useCallback, CSSProperties } from 'react';\nimport styles from './style.module.scss';\nimport SIcon from '@/components/SIcon';\nimport cs from 'classnames';\n\ninterface PaginationProps {\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tcurrent: number;\n\tpageSize: number;\n\ttotal: number;\n\tonChange?: (current: number, pageSize?: number) => any;\n}\nconst Pagination: React.FC<PaginationProps> = ({ className, style, current, pageSize, total, onChange }) => {\n\tconst [prefixPages, setPrefixPages] = useState<number[]>([]);\n\tconst [middlePages, setMiddlePages] = useState<number[]>([]);\n\tconst [suffixPages, setSuffixPages] = useState<number[]>([]);\n\tconst [leftArrowShow, setLeftArrowShow] = useState(false);\n\tconst [rightArrowShow, setRightArrowShow] = useState(false);\n\tconst [maxPage, setMaxPage] = useState(1);\n\tuseEffect(() => {\n\t\tconst totalPage = Math.ceil(total / pageSize) || 1;\n\t\tsetMaxPage(totalPage);\n\t\tlet list = [];\n\t\tfor (let i = 1; i <= totalPage; i++) {\n\t\t\tlist.push(i);\n\t\t}\n\t\tif (list.length <= 6) {\n\t\t\tsetPrefixPages(list);\n\t\t\tsetMiddlePages([]);\n\t\t\tsetSuffixPages([]);\n\t\t\tsetLeftArrowShow(false);\n\t\t\tsetRightArrowShow(false);\n\t\t} else {\n\t\t\tif (current <= 3) {\n\t\t\t\tsetPrefixPages(list.slice(0, 5));\n\t\t\t\tsetMiddlePages([]);\n\t\t\t\tsetSuffixPages(list.slice(-1));\n\t\t\t\tsetLeftArrowShow(false);\n\t\t\t\tsetRightArrowShow(true);\n\t\t\t} else if (current >= list.length - 3) {\n\t\t\t\tsetPrefixPages(list.slice(0, 1));\n\t\t\t\tsetMiddlePages([]);\n\t\t\t\tsetSuffixPages(list.slice(-5));\n\t\t\t\tsetLeftArrowShow(true);\n\t\t\t\tsetRightArrowShow(false);\n\t\t\t} else {\n\t\t\t\tsetPrefixPages(list.slice(0, 1));\n\t\t\t\tsetMiddlePages(list.slice(current - 3, current + 2));\n\t\t\t\tsetSuffixPages(list.slice(-1));\n\t\t\t\tsetLeftArrowShow(true);\n\t\t\t\tsetRightArrowShow(true);\n\t\t\t}\n\t\t}\n\t}, [current, pageSize, total]);\n\tconst resolveClick = useCallback(\n\t\t(page: number) => {\n\t\t\tif (current !== page) {\n\t\t\t\tonChange && onChange(page, pageSize);\n\t\t\t}\n\t\t},\n\t\t[current]\n\t);\n\treturn (\n\t\t<div className={cs(styles.paginationWrap, className)}>\n\t\t\t<div\n\t\t\t\tclassName={cs(styles.pageBtn, { [styles.pageBtnDisabled]: current <= 1 })}\n\t\t\t\tonClick={() => current > 1 && resolveClick(current - 1)}\n\t\t\t\ttitle=\"上一页\"\n\t\t\t>\n\t\t\t\t<SIcon className={styles.pageIconLeft} name=\"arrow-right-line\" />\n\t\t\t</div>\n\t\t\t<div className={styles.pagination} style={style}>\n\t\t\t\t{prefixPages.map(page => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t\tclassName={cs(styles.paginationItem, { [styles.current]: page === current })}\n\t\t\t\t\t\t\tonClick={() => resolveClick(page)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{leftArrowShow && (\n\t\t\t\t\t<div className={styles.paginationEscapeBox} onClick={() => resolveClick(Math.max(1, current - 2))}>\n\t\t\t\t\t\t<SIcon name=\"duble-arrow-down\" className={cs(styles.paginationArrow, styles.left)} />\n\t\t\t\t\t\t<span className={styles.paginationEscape}>•••</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{middlePages.map(page => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t\tclassName={cs(styles.paginationItem, { [styles.current]: page === current })}\n\t\t\t\t\t\t\tonClick={() => resolveClick(page)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{rightArrowShow && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={styles.paginationEscapeBox}\n\t\t\t\t\t\tonClick={() => resolveClick(Math.min(maxPage, current + 2))}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SIcon name=\"duble-arrow-down\" className={cs(styles.paginationArrow, styles.right)} />\n\t\t\t\t\t\t<span className={styles.paginationEscape}>•••</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{suffixPages.map(page => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t\tclassName={cs(styles.paginationItem, { [styles.current]: page === current })}\n\t\t\t\t\t\t\tonClick={() => resolveClick(page)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={cs(styles.pageBtn, { [styles.pageBtnDisabled]: current === maxPage })}\n\t\t\t\tonClick={() => current < maxPage && resolveClick(current + 1)}\n\t\t\t\ttitle=\"下一页\"\n\t\t\t>\n\t\t\t\t<SIcon className={styles.pageIconRight} name=\"arrow-right-line\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Pagination;\n","import React, { FC, useEffect, useState } from 'react';\nimport DefaultPagination from '@/components/Pagination';\n\ninterface PaginationProps {\n\tcurrent: number;\n\tpageSize: number;\n\ttotal: number;\n\tonChange?: (current: number, pageSize?: number) => any;\n}\n\nexport default function usePagination<T>(\n\tlist: T[],\n\tpageSize: number,\n\tPagination: FC<PaginationProps> = DefaultPagination\n): [T[], number, FC] {\n\tconst total = list.length;\n\tconst [page, setPage] = useState<number>(1);\n\tconst [pagingList, setPagingList] = useState<T[]>([]);\n\tconst PageComp: FC = () => {\n\t\treturn <Pagination current={page} total={total} onChange={nextPage => setPage(nextPage)} pageSize={pageSize} />;\n\t};\n\tuseEffect(() => {\n\t\tsetPagingList(list.slice((page - 1) * pageSize, page * pageSize));\n\t}, [list, total, pageSize, page]);\n\treturn [pagingList, page, PageComp];\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"style_home__3zyyB\"};","import React, { useContext, useEffect } from 'react';\nimport DocCtx from '@/ctx/DocCtx';\nimport cs from 'classnames';\nimport DocCard from '@/components/DocCard';\nimport styles from './style.module.scss';\nimport usePagination from '@/hooks/usePagination';\n\nfunction Home({ className }: { className?: string }) {\n\tconst docInfo = useContext(DocCtx);\n\t// console.log('docInfo', docInfo);\n\tconst { articles } = docInfo;\n\tconst [list, page, Pagination] = usePagination(articles, 2);\n\tuseEffect(() => {\n\t\twindow.scrollTo({ left: 0, top: 0 });\n\t}, [page]);\n\treturn (\n\t\t<div className={cs(styles.home, className)}>\n\t\t\t<ul>\n\t\t\t\t{list.map((doc, i) => {\n\t\t\t\t\tconst { title } = doc;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={title + `_${i}`}>\n\t\t\t\t\t\t\t<DocCard mini doc={doc} />\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<Pagination />\n\t\t</div>\n\t);\n}\n\nexport default Home;\n"],"sourceRoot":""}