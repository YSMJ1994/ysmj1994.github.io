{"version":3,"sources":["components/DocCard/style.module.scss","utils/index.ts","components/DocCard/index.tsx","pages/Article/style.module.scss","pages/Article/index.tsx"],"names":["module","exports","docCard","divider","header","headerLabel","headerDesc","headerDescLabel","headerDescValue","body","footer","footerContent","footerItemLabel","footerItemContent","tag","group","appendChildren","mini","formatTime","time","arguments","length","undefined","moment","format","withRouter","_ref","_ref$mini","doc","history","children","_doc$tag","tags","_doc$group","groups","createTime","modifyTime","_doc$title","title","_doc$review","review","_doc$content","content","createTimeStr","modifyTimeStr","react_default","a","createElement","className","cs","styles","Object","defineProperty","Link","hoverShowUnderline","onClick","push","concat","id","headerDescItem","dangerouslySetInnerHTML","__html","footerItem","map","key","article","footerNavigator","navigator","navigatorIcon","navigatorBody","hint","previous","next","Article","match","params","intId","articles","useContext","DocCtx","index","console","log","filter","i","isNaN","react__WEBPACK_IMPORTED_MODULE_1___default","size","previousIndex","previousArticle","previousTitle","nextIndex","nextArticle","nextTitle","_components_DocCard__WEBPACK_IMPORTED_MODULE_5__","_Users_soberz_workspace_my_git_repo_soberz_website_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","navigatorDisabled","_components_SIcon__WEBPACK_IMPORTED_MODULE_6__","name"],"mappings":"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","file":"static/js/article.3bfa2210.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"docCard\":\"style_docCard__FuGwh\",\"divider\":\"style_divider__3txKO\",\"header\":\"style_header__2uIyb\",\"headerLabel\":\"style_headerLabel__3i5KJ\",\"headerDesc\":\"style_headerDesc__V4oV5\",\"headerDescLabel\":\"style_headerDescLabel__dFGui\",\"headerDescValue\":\"style_headerDescValue__2W61Z\",\"body\":\"style_body__23SLF\",\"footer\":\"style_footer__31EKX\",\"footerContent\":\"style_footerContent__9WvSU\",\"footerItemLabel\":\"style_footerItemLabel__2O-J1\",\"footerItemContent\":\"style_footerItemContent__f2UoF\",\"tag\":\"style_tag__1ARGY\",\"group\":\"style_group__2RD3y\",\"appendChildren\":\"style_appendChildren__2HIQ1\",\"mini\":\"style_mini__ou9NY\"};","import moment, { Moment } from 'moment';\n\nexport function getType(target: any): string {\n\tconst typeofType = typeof target;\n\tif (typeofType === 'object') {\n\t\tif (target === null) {\n\t\t\treturn 'null';\n\t\t} else {\n\t\t\treturn Object.prototype.toString\n\t\t\t\t.call(target)\n\t\t\t\t.replace(/^\\[object\\s(.*)]$/, '$1')\n\t\t\t\t.toLowerCase();\n\t\t}\n\t} else {\n\t\treturn typeofType;\n\t}\n}\n\nexport type Time = string | number | Date | Moment | undefined;\nexport function formatTime(time: Time = +moment(), format = 'YYYY-MM-DD HH:mm:ss') {\n\treturn moment(time).format(format);\n}\n","import React, { FC } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport styles from './style.module.scss';\nimport { formatTime } from '@/utils';\nimport { MdDoc } from '@/ctx/DocCtx';\nimport Title from '@/components/Link';\nimport cs from 'classnames';\nimport { PropsWithChildren } from '~/node_modules/@types/react';\n\ninterface DocCardProps {\n\tdoc: MdDoc;\n\tmini?: boolean;\n}\n\ntype ResolveProps = PropsWithChildren<DocCardProps & RouteComponentProps<any>>;\n\nconst DocCard: FC<ResolveProps> = ({ mini = false, doc, history, children }) => {\n\tconst { tag: tags = [], group: groups = [], createTime, modifyTime, title = '', review = '', content = '' } = doc;\n\tconst createTimeStr = formatTime(createTime);\n\tconst modifyTimeStr = formatTime(modifyTime);\n\treturn (\n\t\t<div className={cs(styles.docCard, { [styles.mini]: mini })}>\n\t\t\t<div className={styles.header}>\n\t\t\t\t<Title\n\t\t\t\t\tclassName={styles.headerLabel}\n\t\t\t\t\thoverShowUnderline={mini}\n\t\t\t\t\tonClick={() => history.push(`/article/${doc.id}`)}\n\t\t\t\t>\n\t\t\t\t\t{title}\n\t\t\t\t</Title>\n\t\t\t\t<div className={styles.headerDesc}>\n\t\t\t\t\t<div className={styles.headerDescItem}>\n\t\t\t\t\t\t<span className={styles.headerDescLabel}>发表时间</span>\n\t\t\t\t\t\t<span className={styles.headerDescValue}>{createTimeStr}</span>\n\t\t\t\t\t\t<span className={styles.headerDescLabel}>修改时间</span>\n\t\t\t\t\t\t<span className={styles.headerDescValue}>{modifyTimeStr}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={styles.body} dangerouslySetInnerHTML={{ __html: mini ? review || content : content }} />\n\t\t\t<div className={styles.footer}>\n\t\t\t\t<div className={styles.divider} />\n\t\t\t\t<div className={styles.footerContent}>\n\t\t\t\t\t{!!tags.length && (\n\t\t\t\t\t\t<div className={styles.footerItem}>\n\t\t\t\t\t\t\t<span className={styles.footerItemLabel}>标签</span>\n\t\t\t\t\t\t\t<span className={styles.footerItemContent}>\n\t\t\t\t\t\t\t\t{tags.map(tag => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tkey={tag}\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.tag}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/tags/${tag}`)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{tag}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{!!groups.length && (\n\t\t\t\t\t\t<div className={styles.footerItem}>\n\t\t\t\t\t\t\t<span className={styles.footerItemLabel}>分类</span>\n\t\t\t\t\t\t\t<span className={styles.footerItemContent}>\n\t\t\t\t\t\t\t\t{groups.map(group => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tkey={group}\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.group}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/group/${group}`)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{group}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{children && <div className={styles.appendChildren}>{children}</div>}\n\t\t</div>\n\t);\n};\n\nexport default withRouter<ResolveProps>(DocCard);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"style_article__2I4TB\",\"footerNavigator\":\"style_footerNavigator__3AtUd\",\"navigator\":\"style_navigator__Q2q18\",\"navigatorIcon\":\"style_navigatorIcon__6CV02\",\"navigatorBody\":\"style_navigatorBody__NEBx9\",\"hint\":\"style_hint__r9n4Q\",\"title\":\"style_title__364qK\",\"previous\":\"style_previous__3tJa4\",\"next\":\"style_next__c3y-h\"};","import React, { FC, useContext } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport cs from 'classnames';\nimport styles from './style.module.scss';\nimport DocCtx from '@/ctx/DocCtx';\nimport DocCard from '@/components/DocCard';\nimport SIcon from '@/components/SIcon';\n\nconst Article: FC<{ className?: string } & RouteComponentProps<{ id: string }>> = ({\n\tclassName,\n\tmatch: {\n\t\tparams: { id }\n\t},\n\thistory\n}) => {\n\tconst intId = +id;\n\tconst { articles } = useContext(DocCtx);\n\tlet index: number = 0;\n\tconsole.log('articles', articles, id);\n\tconst article = articles.filter((a, i) => {\n\t\tif (a.id === intId) {\n\t\t\tindex = i;\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t})[0];\n\tif (isNaN(intId) || !articles) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>参数错误</h1>\n\t\t\t</div>\n\t\t);\n\t}\n\tconst size = articles.length;\n\tconst previousIndex = index - 1;\n\tconst previousArticle = size > 1 ? articles[previousIndex < 0 ? size - 1 : previousIndex] : null;\n\tconst previousTitle = previousArticle ? previousArticle.title : '无';\n\tconst nextIndex = index + 1;\n\tconst nextArticle = size > 1 ? articles[nextIndex >= size ? 0 : nextIndex] : null;\n\tconst nextTitle = nextArticle ? nextArticle.title : '无';\n\treturn (\n\t\t<div className={cs(styles.article, className)}>\n\t\t\t<DocCard doc={article} />\n\t\t\t<div className={styles.footerNavigator}>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => previousArticle && history.push(`/article/${previousArticle.id}`)}\n\t\t\t\t\tclassName={cs(styles.navigator, styles.previous, { [styles.navigatorDisabled]: !previousArticle })}\n\t\t\t\t>\n\t\t\t\t\t<SIcon className={styles.navigatorIcon} name=\"arrow-right-line\" />\n\t\t\t\t\t<div className={styles.navigatorBody}>\n\t\t\t\t\t\t<div className={styles.hint}>Previous</div>\n\t\t\t\t\t\t<div className={styles.title}>{previousTitle}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => nextArticle && history.push(`/article/${nextArticle.id}`)}\n\t\t\t\t\tclassName={cs(styles.navigator, styles.next, { [styles.navigatorDisabled]: !previousArticle })}\n\t\t\t\t>\n\t\t\t\t\t<div className={styles.navigatorBody}>\n\t\t\t\t\t\t<div className={styles.hint}>Next</div>\n\t\t\t\t\t\t<div className={styles.title}>{nextTitle}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<SIcon className={styles.navigatorIcon} name=\"arrow-right-line\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Article;\n"],"sourceRoot":""}