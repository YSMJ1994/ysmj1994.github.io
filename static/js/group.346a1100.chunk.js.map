{"version":3,"sources":["components/Btn/index.tsx","pages/Group/index.tsx","components/PageTitle/index.tsx","components/PageTitle/style.module.scss","pages/Group/style.module.scss","components/Btn/style.module.scss"],"names":["Btn","_ref","_cs","className","style","_ref$disabled","disabled","_ref$loading","loading","_ref$fill","fill","_ref$type","type","children","onClick","console","log","react_default","a","createElement","cs","styles","btn","concat","Object","defineProperty","btnDisabled","btnLoading","btnFill","e","Row","label","icon","row","rowIcon","SIcon","name","rowLabel","TreeRow","_ref2","_ref2$open","open","_ref2$isLeaf","isLeaf","treeRow","treeRowIcon","treeRowIconArrow","treeRowIconOpen","treeRowContent","ArticleItem","_ref3","title","articleItem","Group_TreeRow","Group_Row","GroupItem","_ref4","_ref4$articles","articles","_ref4$groups","groups","_ref4$open","goArticle","paramsName","onChildOpen","_useState","useState","_useState2","slicedToArray","itemOpen","setItemOpen","hasChildrenGroups","Boolean","length","hasArticles","listenChildOpen","useEffect","groupItem","groupItemChildren","groupItemChildrenOpen","map","childGroup","key","assign","article","Group_ArticleItem","id","GroupPage","_ref5","history","match","params","useContext","DocCtx","group","_useState3","_useState4","setOpen","push","groupWrap","PageTitle","sub","components_Btn","Group_GroupItem","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_module_scss__WEBPACK_IMPORTED_MODULE_1__","_style_module_scss__WEBPACK_IMPORTED_MODULE_1___default","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","pageTitle","module","exports","rotateKeyframes","btn--text","btn--success","btn--warn","btn--error","rotate"],"mappings":"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","file":"static/js/group.346a1100.chunk.js","sourcesContent":["import React, { FC, PropsWithChildren, EventHandler, MouseEvent, CSSProperties } from 'react';\nimport styles from './style.module.scss';\nimport cs from 'classnames';\n\ntype BtnProps = {\n\tdisabled?: boolean;\n\tloading?: boolean;\n\ttype?: 'text' | 'normal' | 'success' | 'warn' | 'error';\n\tfill?: boolean;\n\tclassName?: string;\n\tstyle?: CSSProperties;\n\tonClick?: EventHandler<MouseEvent<HTMLButtonElement>>;\n};\nconst Btn: FC<PropsWithChildren<BtnProps>> = ({\n\tclassName,\n\tstyle,\n\tdisabled = false,\n\tloading = false,\n\tfill = false,\n\ttype = 'normal',\n\tchildren,\n\tonClick\n}) => {\n\tconsole.log('children', children)\n\treturn (\n\t\t<button\n\t\t\tclassName={cs(styles.btn, styles[`btn--${type}`], className, {\n\t\t\t\t[styles.btnDisabled]: disabled,\n\t\t\t\t[styles.btnLoading]: loading,\n\t\t\t\t[styles.btnFill]: fill\n\t\t\t})}\n\t\t\tstyle={style}\n\t\t\tonClick={e => !loading && !disabled && onClick && onClick(e)}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\nexport default Btn;\n","import React, { FC, PropsWithChildren, useContext, useState, useEffect, MouseEvent } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport cs from 'classnames';\nimport styles from './style.module.scss';\nimport DocCtx, { Group, MdDoc } from '@/ctx/DocCtx';\nimport SIcon from '@/components/SIcon';\nimport PageTitle from '@/components/PageTitle';\nimport Btn from '@/components/Btn';\n\nconst Row: FC<{ label: string; icon?: string }> = ({ label, icon }) => {\n\treturn (\n\t\t<span className={styles.row}>\n\t\t\t<span className={styles.rowIcon}>{!!icon && <SIcon name={icon} />}</span>\n\t\t\t<span className={styles.rowLabel}>{label}</span>\n\t\t</span>\n\t);\n};\n\nconst TreeRow: FC<\n\tPropsWithChildren<{ open?: boolean; isLeaf?: boolean; onClick?: (e: MouseEvent<HTMLDivElement>) => void }>\n> = ({ open = false, isLeaf = false, onClick, children }) => {\n\treturn (\n\t\t<div className={styles.treeRow} onClick={onClick}>\n\t\t\t<span className={styles.treeRowIcon}>\n\t\t\t\t{!isLeaf && (\n\t\t\t\t\t<SIcon\n\t\t\t\t\t\tname=\"arrow-down-little\"\n\t\t\t\t\t\tclassName={cs(styles.treeRowIconArrow, { [styles.treeRowIconOpen]: open })}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t\t<span className={styles.treeRowContent}>{children}</span>\n\t\t</div>\n\t);\n};\n\nconst ArticleItem: FC<MdDoc & { onClick?: (e: MouseEvent<HTMLDivElement>) => void }> = ({ title, onClick }) => {\n\treturn (\n\t\t<div className={styles.articleItem} onClick={onClick}>\n\t\t\t<TreeRow isLeaf>\n\t\t\t\t<Row label={title} icon=\"article-line\" />\n\t\t\t</TreeRow>\n\t\t</div>\n\t);\n};\n\nconst GroupItem: FC<\n\tGroup & {\n\t\topen?: boolean;\n\t\tgoArticle?: (id: number) => void;\n\t\tparamsName?: string;\n\t\tonChildOpen?: (name: string) => void;\n\t}\n> = ({ name, articles = [], groups = [], open = false, goArticle, paramsName, onChildOpen }) => {\n\t// 若默认url参数name和当前分组名称相同或默认为展开则当前分组展开\n\tconst [itemOpen, setItemOpen] = useState(name === paramsName || open);\n\tconst hasChildrenGroups = Boolean(groups.length);\n\tconst hasArticles = Boolean(articles.length);\n\t// 监听子分组open 事件，子分组展开则当前分组也展开\n\tconst listenChildOpen = (name: string) => {\n\t\tif (!itemOpen) {\n\t\t\tsetItemOpen(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\t// 若prop传入的open变化，则同步当前展开状态\n\t\tsetItemOpen(open);\n\t}, [open]);\n\n\t// 若当前分组展开则通知父组件\n\tuseEffect(() => {\n\t\tif (itemOpen) {\n\t\t\tonChildOpen && onChildOpen(name);\n\t\t}\n\t}, [itemOpen]);\n\treturn (\n\t\t<div className={styles.groupItem}>\n\t\t\t<TreeRow open={itemOpen} onClick={() => setItemOpen(!itemOpen)}>\n\t\t\t\t<Row label={name} icon={itemOpen ? 'dir-open' : 'dir-close'} />\n\t\t\t</TreeRow>\n\t\t\t<ul className={cs(styles.groupItemChildren, { [styles.groupItemChildrenOpen]: itemOpen })}>\n\t\t\t\t{hasChildrenGroups &&\n\t\t\t\t\tgroups.map(childGroup => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={childGroup.name}>\n\t\t\t\t\t\t\t\t<GroupItem\n\t\t\t\t\t\t\t\t\t{...childGroup}\n\t\t\t\t\t\t\t\t\topen={open}\n\t\t\t\t\t\t\t\t\tgoArticle={goArticle}\n\t\t\t\t\t\t\t\t\tonChildOpen={listenChildOpen}\n\t\t\t\t\t\t\t\t\tparamsName={paramsName}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t{hasArticles &&\n\t\t\t\t\tarticles.map(article => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={article.title}>\n\t\t\t\t\t\t\t\t<ArticleItem {...article} onClick={() => goArticle && goArticle(article.id)} />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nconst GroupPage: FC<{ className?: string } & RouteComponentProps<{ name?: string }>> = ({\n\tclassName,\n\thistory,\n\tmatch: {\n\t\tparams: { name }\n\t}\n}) => {\n\tconst { group: groups } = useContext(DocCtx);\n\tconst [open, setOpen] = useState<boolean>(false);\n\tconsole.log('groups', groups);\n\tconst goArticle = (id: number) => {\n\t\thistory.push(`/article/${id}`);\n\t};\n\treturn (\n\t\t<div className={cs(styles.groupWrap, className)}>\n\t\t\t<PageTitle title=\"分类\" sub={`共计${groups.length}个分类`} />\n\t\t\t<Btn\n\t\t\t\tfill\n\t\t\t\tloading\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetOpen(!open);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<PageTitle title=\"分类\" sub={`共计${groups.length}个分类`} />\n\t\t\t\t{/*全部{open ? '折叠' : '展开'}*/}\n\t\t\t</Btn>\n\t\t\t{groups.map(group => {\n\t\t\t\treturn <GroupItem open={open} key={group.name} {...group} goArticle={goArticle} paramsName={name} />;\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport default GroupPage;\n","import React, { FC } from 'react';\nimport styles from './style.module.scss';\nimport cs from 'classnames';\n\nconst PageTitle: FC<{ className?: string; title: string | React.ReactElement; sub?: string | React.ReactElement }> = ({\n\tclassName,\n\ttitle,\n\tsub\n}) => {\n\treturn (\n\t\t<div className={cs(styles.pageTitle, className)}>\n\t\t\t<span>{title}</span>\n\t\t\t<span className={styles.sub}>{sub}</span>\n\t\t</div>\n\t);\n};\n\nexport default PageTitle;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageTitle\":\"style_pageTitle__3Y2fW\",\"sub\":\"style_sub__1yA0t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"groupWrap\":\"style_groupWrap__2a0fo\",\"title\":\"style_title__38Ldl\",\"row\":\"style_row__2-KIw\",\"rowIcon\":\"style_rowIcon__3ZbOz\",\"treeRow\":\"style_treeRow__2c061\",\"treeRowIcon\":\"style_treeRowIcon__3qsSv\",\"treeRowIconArrow\":\"style_treeRowIconArrow__4jjzB\",\"treeRowIconOpen\":\"style_treeRowIconOpen__3yK33\",\"groupItem\":\"style_groupItem__HLsii\",\"groupItemChildren\":\"style_groupItemChildren__c3-YG\",\"groupItemChildrenOpen\":\"style_groupItemChildrenOpen__2cXfn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"style_btn__2i6Zi\",\"btnFill\":\"style_btnFill__1CCN7\",\"btnLoading\":\"style_btnLoading__p9BGB\",\"btnDisabled\":\"style_btnDisabled__3jaWv\",\"rotateKeyframes\":\"style_rotateKeyframes__3L8_z\",\"btn--text\":\"style_btn--text__3FhXa\",\"btn--success\":\"style_btn--success__2jxDR\",\"btn--warn\":\"style_btn--warn__3it1E\",\"btn--error\":\"style_btn--error__1ghQs\",\"rotate\":\"style_rotate__em8PY\"};"],"sourceRoot":""}